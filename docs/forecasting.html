<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Forecasting Catch Time Series</title>
  <meta name="description" content="Forecasting catch time series using R.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Forecasting Catch Time Series" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Forecasting catch time series using R." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Forecasting Catch Time Series" />
  
  <meta name="twitter:description" content="Forecasting catch time series using R." />
  

<meta name="author" content="Elizabeth Holmes">


<meta name="date" content="2018-10-10">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="fitting-arima-models.html">
<link rel="next" href="exponential-smoothing-models.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html">Fish Forecast</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="stergiou-and-christou-1996.html"><a href="stergiou-and-christou-1996.html"><i class="fa fa-check"></i><b>1.1</b> Stergiou and Christou 1996</a><ul>
<li class="chapter" data-level="1.1.1" data-path="stergiou-and-christou-1996.html"><a href="stergiou-and-christou-1996.html#hellenic-landings-data"><i class="fa fa-check"></i><b>1.1.1</b> Hellenic landings data</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="the-landings-data-landings-rdata.html"><a href="the-landings-data-landings-rdata.html"><i class="fa fa-check"></i><b>1.2</b> The landings data, landings.RData</a></li>
<li class="chapter" data-level="1.3" data-path="ts-objects.html"><a href="ts-objects.html"><i class="fa fa-check"></i><b>1.3</b> ts objects</a><ul>
<li class="chapter" data-level="1.3.1" data-path="ts-objects.html"><a href="ts-objects.html#ts-function"><i class="fa fa-check"></i><b>1.3.1</b> <code>ts()</code> function</a></li>
<li class="chapter" data-level="1.3.2" data-path="ts-objects.html"><a href="ts-objects.html#ggplot-and-ts-objects"><i class="fa fa-check"></i><b>1.3.2</b> ggplot and ts objects</a></li>
<li class="chapter" data-level="1.3.3" data-path="ts-objects.html"><a href="ts-objects.html#plotting-using-a-data-frame"><i class="fa fa-check"></i><b>1.3.3</b> Plotting using a data frame</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>1.4</b> Packages</a></li>
<li class="chapter" data-level="1.5" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>1.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="time-varying-regression.html"><a href="time-varying-regression.html"><i class="fa fa-check"></i><b>2</b> Time-varying regression</a><ul>
<li class="chapter" data-level="2.1" data-path="fitting-time-varying-regressions.html"><a href="fitting-time-varying-regressions.html"><i class="fa fa-check"></i><b>2.1</b> Fitting time-varying regressions</a><ul>
<li class="chapter" data-level="2.1.1" data-path="fitting-time-varying-regressions.html"><a href="fitting-time-varying-regressions.html#orthogonal-polynomials"><i class="fa fa-check"></i><b>2.1.1</b> Orthogonal polynomials</a></li>
<li class="chapter" data-level="2.1.2" data-path="fitting-time-varying-regressions.html"><a href="fitting-time-varying-regressions.html#residual-diagnostics"><i class="fa fa-check"></i><b>2.1.2</b> Residual diagnostics</a></li>
<li class="chapter" data-level="2.1.3" data-path="fitting-time-varying-regressions.html"><a href="fitting-time-varying-regressions.html#compare-to-stergiou-and-christou"><i class="fa fa-check"></i><b>2.1.3</b> Compare to Stergiou and Christou</a></li>
<li class="chapter" data-level="2.1.4" data-path="fitting-time-varying-regressions.html"><a href="fitting-time-varying-regressions.html#summary"><i class="fa fa-check"></i><b>2.1.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="forecasting-with-a-time-varying-regression-model.html"><a href="forecasting-with-a-time-varying-regression-model.html"><i class="fa fa-check"></i><b>2.2</b> Forecasting with a time-varying regression model</a><ul>
<li class="chapter" data-level="2.2.1" data-path="forecasting-with-a-time-varying-regression-model.html"><a href="forecasting-with-a-time-varying-regression-model.html#the-forecast-package"><i class="fa fa-check"></i><b>2.2.1</b> The forecast package</a></li>
<li class="chapter" data-level="2.2.2" data-path="forecasting-with-a-time-varying-regression-model.html"><a href="forecasting-with-a-time-varying-regression-model.html#summary-1"><i class="fa fa-check"></i><b>2.2.2</b> Summary</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="arima-models.html"><a href="arima-models.html"><i class="fa fa-check"></i><b>3</b> ARIMA Models</a><ul>
<li class="chapter" data-level="3.1" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i><b>3.1</b> Overview</a><ul>
<li class="chapter" data-level="3.1.1" data-path="overview.html"><a href="overview.html#components-of-an-arima-model"><i class="fa fa-check"></i><b>3.1.1</b> Components of an ARIMA model</a></li>
<li class="chapter" data-level="3.1.2" data-path="overview.html"><a href="overview.html#box-jenkins-method"><i class="fa fa-check"></i><b>3.1.2</b> Box-Jenkins Method</a></li>
<li class="chapter" data-level="3.1.3" data-path="overview.html"><a href="overview.html#acf-and-pacf-functions"><i class="fa fa-check"></i><b>3.1.3</b> ACF and PACF functions</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="stationarity.html"><a href="stationarity.html"><i class="fa fa-check"></i><b>3.2</b> Stationarity</a><ul>
<li class="chapter" data-level="3.2.1" data-path="stationarity.html"><a href="stationarity.html#definition"><i class="fa fa-check"></i><b>3.2.1</b> Definition</a></li>
<li class="chapter" data-level="3.2.2" data-path="stationarity.html"><a href="stationarity.html#non-stationarity"><i class="fa fa-check"></i><b>3.2.2</b> Non-stationarity</a></li>
<li class="chapter" data-level="3.2.3" data-path="stationarity.html"><a href="stationarity.html#stationarity-tests"><i class="fa fa-check"></i><b>3.2.3</b> Stationarity tests</a></li>
<li class="chapter" data-level="3.2.4" data-path="stationarity.html"><a href="stationarity.html#differencing-the-data"><i class="fa fa-check"></i><b>3.2.4</b> Differencing the data</a></li>
<li class="chapter" data-level="3.2.5" data-path="stationarity.html"><a href="stationarity.html#summary-2"><i class="fa fa-check"></i><b>3.2.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="model-structure.html"><a href="model-structure.html"><i class="fa fa-check"></i><b>3.3</b> Model Structure</a><ul>
<li class="chapter" data-level="3.3.1" data-path="model-structure.html"><a href="model-structure.html#ar-and-ma-lags"><i class="fa fa-check"></i><b>3.3.1</b> AR and MA lags</a></li>
<li class="chapter" data-level="3.3.2" data-path="model-structure.html"><a href="model-structure.html#model-order"><i class="fa fa-check"></i><b>3.3.2</b> Model order</a></li>
<li class="chapter" data-level="3.3.3" data-path="model-structure.html"><a href="model-structure.html#choosing-the-ar-and-ma-levels"><i class="fa fa-check"></i><b>3.3.3</b> Choosing the AR and MA levels</a></li>
<li class="chapter" data-level="3.3.4" data-path="model-structure.html"><a href="model-structure.html#trace-true"><i class="fa fa-check"></i><b>3.3.4</b> Trace = TRUE</a></li>
<li class="chapter" data-level="3.3.5" data-path="model-structure.html"><a href="model-structure.html#stepwisefalse"><i class="fa fa-check"></i><b>3.3.5</b> stepwise=FALSE</a></li>
<li class="chapter" data-level="3.3.6" data-path="model-structure.html"><a href="model-structure.html#summary-3"><i class="fa fa-check"></i><b>3.3.6</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="fitting-arima-models.html"><a href="fitting-arima-models.html"><i class="fa fa-check"></i><b>3.4</b> Fitting ARIMA Models</a><ul>
<li class="chapter" data-level="3.4.1" data-path="fitting-arima-models.html"><a href="fitting-arima-models.html#fitting-with-auto.arima"><i class="fa fa-check"></i><b>3.4.1</b> Fitting with <code>auto.arima()</code></a></li>
<li class="chapter" data-level="3.4.2" data-path="fitting-arima-models.html"><a href="fitting-arima-models.html#outputting-the-models-tested"><i class="fa fa-check"></i><b>3.4.2</b> Outputting the models tested</a></li>
<li class="chapter" data-level="3.4.3" data-path="fitting-arima-models.html"><a href="fitting-arima-models.html#repeat-with-the-sardine-data"><i class="fa fa-check"></i><b>3.4.3</b> Repeat with the sardine data</a></li>
<li class="chapter" data-level="3.4.4" data-path="fitting-arima-models.html"><a href="fitting-arima-models.html#missing-values"><i class="fa fa-check"></i><b>3.4.4</b> Missing values</a></li>
<li class="chapter" data-level="3.4.5" data-path="fitting-arima-models.html"><a href="fitting-arima-models.html#fit-a-specific-arima-model"><i class="fa fa-check"></i><b>3.4.5</b> Fit a specific ARIMA model</a></li>
<li class="chapter" data-level="3.4.6" data-path="fitting-arima-models.html"><a href="fitting-arima-models.html#model-checking"><i class="fa fa-check"></i><b>3.4.6</b> Model Checking</a></li>
<li class="chapter" data-level="3.4.7" data-path="fitting-arima-models.html"><a href="fitting-arima-models.html#workflow-for-non-seasonal-data"><i class="fa fa-check"></i><b>3.4.7</b> Workflow for non-seasonal data</a></li>
<li class="chapter" data-level="3.4.8" data-path="fitting-arima-models.html"><a href="fitting-arima-models.html#stepwise-vs-exhaustive-model-selection"><i class="fa fa-check"></i><b>3.4.8</b> Stepwise vs exhaustive model selection</a></li>
<li class="chapter" data-level="3.4.9" data-path="fitting-arima-models.html"><a href="fitting-arima-models.html#summary-4"><i class="fa fa-check"></i><b>3.4.9</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="forecasting.html"><a href="forecasting.html"><i class="fa fa-check"></i><b>3.5</b> Forecasting</a><ul>
<li class="chapter" data-level="3.5.1" data-path="forecasting.html"><a href="forecasting.html#forecasting-with-forecast"><i class="fa fa-check"></i><b>3.5.1</b> Forecasting with <code>forecast()</code></a></li>
<li class="chapter" data-level="3.5.2" data-path="forecasting.html"><a href="forecasting.html#missing-values-1"><i class="fa fa-check"></i><b>3.5.2</b> Missing values</a></li>
<li class="chapter" data-level="3.5.3" data-path="forecasting.html"><a href="forecasting.html#null-forecast-models"><i class="fa fa-check"></i><b>3.5.3</b> Null forecast models</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html"><i class="fa fa-check"></i><b>4</b> Exponential Smoothing Models</a><ul>
<li class="chapter" data-level="4.1" data-path="naive-forecast.html"><a href="naive-forecast.html"><i class="fa fa-check"></i><b>4.1</b> Naive forecast</a></li>
<li class="chapter" data-level="4.2" data-path="simple-ets.html"><a href="simple-ets.html"><i class="fa fa-check"></i><b>4.2</b> Simple ETS</a></li>
<li class="chapter" data-level="4.3" data-path="fitting-with-ets.html"><a href="fitting-with-ets.html"><i class="fa fa-check"></i><b>4.3</b> Fitting with <code>ets()</code></a><ul>
<li class="chapter" data-level="4.3.1" data-path="fitting-with-ets.html"><a href="fitting-with-ets.html#exponential-smoothing-with-no-trend"><i class="fa fa-check"></i><b>4.3.1</b> Exponential smoothing with no trend</a></li>
<li class="chapter" data-level="4.3.2" data-path="fitting-with-ets.html"><a href="fitting-with-ets.html#the-weighting-function"><i class="fa fa-check"></i><b>4.3.2</b> The weighting function</a></li>
<li class="chapter" data-level="4.3.3" data-path="fitting-with-ets.html"><a href="fitting-with-ets.html#produce-forecast-using-a-previous-fit"><i class="fa fa-check"></i><b>4.3.3</b> Produce forecast using a previous fit</a></li>
<li class="chapter" data-level="4.3.4" data-path="fitting-with-ets.html"><a href="fitting-with-ets.html#naive-model-with-drift"><i class="fa fa-check"></i><b>4.3.4</b> Naive model with drift</a></li>
<li class="chapter" data-level="4.3.5" data-path="fitting-with-ets.html"><a href="fitting-with-ets.html#exponential-smoothing-model-with-trend"><i class="fa fa-check"></i><b>4.3.5</b> Exponential smoothing model with trend</a></li>
<li class="chapter" data-level="4.3.6" data-path="fitting-with-ets.html"><a href="fitting-with-ets.html#naive-model-with-trend"><i class="fa fa-check"></i><b>4.3.6</b> Naive model with trend</a></li>
<li class="chapter" data-level="4.3.7" data-path="fitting-with-ets.html"><a href="fitting-with-ets.html#exponential-smoothing-model-with-trend-1"><i class="fa fa-check"></i><b>4.3.7</b> Exponential smoothing model with trend</a></li>
<li class="chapter" data-level="4.3.8" data-path="fitting-with-ets.html"><a href="fitting-with-ets.html#decomposing-your-model-fit"><i class="fa fa-check"></i><b>4.3.8</b> Decomposing your model fit</a></li>
<li class="chapter" data-level="4.3.9" data-path="fitting-with-ets.html"><a href="fitting-with-ets.html#forecast-performance"><i class="fa fa-check"></i><b>4.3.9</b> Forecast performance</a></li>
<li class="chapter" data-level="4.3.10" data-path="fitting-with-ets.html"><a href="fitting-with-ets.html#test-forecast-performance"><i class="fa fa-check"></i><b>4.3.10</b> Test forecast performance</a></li>
<li class="chapter" data-level="4.3.11" data-path="fitting-with-ets.html"><a href="fitting-with-ets.html#testing-a-specific-ets-model"><i class="fa fa-check"></i><b>4.3.11</b> Testing a specific ets model</a></li>
<li class="chapter" data-level="4.3.12" data-path="fitting-with-ets.html"><a href="fitting-with-ets.html#forecast-accuracy-metrics"><i class="fa fa-check"></i><b>4.3.12</b> Forecast accuracy metrics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="testing-forecast-accuracy.html"><a href="testing-forecast-accuracy.html"><i class="fa fa-check"></i><b>5</b> Testing forecast accuracy</a><ul>
<li class="chapter" data-level="5.1" data-path="measures-of-forecast-accuracy.html"><a href="measures-of-forecast-accuracy.html"><i class="fa fa-check"></i><b>5.1</b> Measures of forecast accuracy</a><ul>
<li class="chapter" data-level="5.1.1" data-path="measures-of-forecast-accuracy.html"><a href="measures-of-forecast-accuracy.html#metrics"><i class="fa fa-check"></i><b>5.1.1</b> Metrics</a></li>
<li class="chapter" data-level="5.1.2" data-path="measures-of-forecast-accuracy.html"><a href="measures-of-forecast-accuracy.html#test-multiple-models"><i class="fa fa-check"></i><b>5.1.2</b> Test multiple models</a></li>
<li class="chapter" data-level="5.1.3" data-path="measures-of-forecast-accuracy.html"><a href="measures-of-forecast-accuracy.html#cross-validation"><i class="fa fa-check"></i><b>5.1.3</b> Cross-Validation</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="testing-multiple-models.html"><a href="testing-multiple-models.html"><i class="fa fa-check"></i><b>5.2</b> Testing multiple models</a><ul>
<li class="chapter" data-level="5.2.1" data-path="testing-multiple-models.html"><a href="testing-multiple-models.html#example-candidate-model-set-for-anchovy"><i class="fa fa-check"></i><b>5.2.1</b> Example candidate model set for anchovy</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="covariates.html"><a href="covariates.html"><i class="fa fa-check"></i><b>6</b> Covariates</a><ul>
<li class="chapter" data-level="6.1" data-path="multivariate-linear-regression-with-arma-errors.html"><a href="multivariate-linear-regression-with-arma-errors.html"><i class="fa fa-check"></i><b>6.1</b> Multivariate linear regression with ARMA errors</a><ul>
<li class="chapter" data-level="6.1.1" data-path="multivariate-linear-regression-with-arma-errors.html"><a href="multivariate-linear-regression-with-arma-errors.html#example-anchovy"><i class="fa fa-check"></i><b>6.1.1</b> Example: anchovy</a></li>
<li class="chapter" data-level="6.1.2" data-path="multivariate-linear-regression-with-arma-errors.html"><a href="multivariate-linear-regression-with-arma-errors.html#mreg-of-first-or-second-differences"><i class="fa fa-check"></i><b>6.1.2</b> MREG of first or second differences</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="seasonality.html"><a href="seasonality.html"><i class="fa fa-check"></i><b>7</b> Seasonality</a><ul>
<li class="chapter" data-level="7.0.1" data-path="seasonality.html"><a href="seasonality.html#load-the-chinook-salmon-data-set"><i class="fa fa-check"></i><b>7.0.1</b> Load the chinook salmon data set</a></li>
<li class="chapter" data-level="7.0.2" data-path="seasonality.html"><a href="seasonality.html#plot-seasonal-data"><i class="fa fa-check"></i><b>7.0.2</b> Plot seasonal data</a></li>
<li class="chapter" data-level="7.1" data-path="seasonal-exponential-smoothing-model.html"><a href="seasonal-exponential-smoothing-model.html"><i class="fa fa-check"></i><b>7.1</b> Seasonal Exponential Smoothing Model</a><ul>
<li class="chapter" data-level="7.1.1" data-path="seasonal-exponential-smoothing-model.html"><a href="seasonal-exponential-smoothing-model.html#force-seasonality-to-evolve-more"><i class="fa fa-check"></i><b>7.1.1</b> Force seasonality to evolve more</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="seasonal-arima-model.html"><a href="seasonal-arima-model.html"><i class="fa fa-check"></i><b>7.2</b> Seasonal ARIMA model</a></li>
<li class="chapter" data-level="7.3" data-path="missing-values-2.html"><a href="missing-values-2.html"><i class="fa fa-check"></i><b>7.3</b> Missing values</a></li>
<li class="chapter" data-level="7.4" data-path="forecast-evaluation.html"><a href="forecast-evaluation.html"><i class="fa fa-check"></i><b>7.4</b> Forecast evaluation</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix-inputting-data.html"><a href="appendix-inputting-data.html"><i class="fa fa-check"></i>Appendix: Inputting data</a><ul>
<li class="chapter" data-level="" data-path="appendix-inputting-data.html"><a href="appendix-inputting-data.html#one-response-variable"><i class="fa fa-check"></i>one response variable</a></li>
<li class="chapter" data-level="" data-path="appendix-inputting-data.html"><a href="appendix-inputting-data.html#many-response-variables"><i class="fa fa-check"></i>Many response variables</a></li>
<li class="chapter" data-level="" data-path="appendix-inputting-data.html"><a href="appendix-inputting-data.html#many-response-variables-two-time-variables"><i class="fa fa-check"></i>Many response variables, two time variables</a></li>
<li class="chapter" data-level="" data-path="appendix-inputting-data.html"><a href="appendix-inputting-data.html#one-response-variable-multiple-explanatory-variables"><i class="fa fa-check"></i>One response variable, multiple explanatory variables</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix-downloading-icoads-covariates.html"><a href="appendix-downloading-icoads-covariates.html"><i class="fa fa-check"></i>Appendix: Downloading ICOADS covariates</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Forecasting Catch Time Series</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="forecasting" class="section level2">
<h2><span class="header-section-number">3.5</span> Forecasting</h2>
<p>The basic idea of forecasting with an ARIMA model is the same as forecasting with a time-varying regressiion model.</p>
<p>We estimate a model and the parameters for that model. For example, let’s say we want to forecast with ARIMA(2,1,0) model:
<span class="math display">\[y_t = \beta_1 y_{t-1} + \beta_2 y_{t-2} + e_t\]</span>
where <span class="math inline">\(y_t\)</span> is the first difference of our anchovy data.</p>
<p>Let’s estimate the <span class="math inline">\(\beta\)</span>’s:</p>
<pre class="sourceCode r"><code class="sourceCode r">fit &lt;-<span class="st"> </span><span class="kw">Arima</span>(anchovy, <span class="dt">order=</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">0</span>))
<span class="kw">coef</span>(fit)</code></pre>
<pre><code>##        ar1        ar2 
## -0.3347994 -0.1453928</code></pre>
<p>So we will forecast with this model:</p>
<p><span class="math display">\[y_t = -0.3348 y_{t-1} - 0.1454 y_{t-2} + e_t\]</span></p>
<p>So to get our forecast for 1988, we do this</p>
<p><span class="math display">\[(y_{1988}-y_{1987}) = -0.3348 (y_{1987}-y_{1986}) - 0.1454 (y_{1986}-y_{1985})\]</span></p>
<p>Thus</p>
<p><span class="math display">\[y_{1988} = y_{1987}-0.3348 (y_{1987}-y_{1986}) - 0.1454 (y_{1986}-y_{1985})\]</span></p>
<p>Here is R code to do that:</p>
<pre class="sourceCode r"><code class="sourceCode r">anchovy[<span class="dv">24</span>]<span class="op">+</span><span class="kw">coef</span>(fit)[<span class="dv">1</span>]<span class="op">*</span>(anchovy[<span class="dv">24</span>]<span class="op">-</span>anchovy[<span class="dv">23</span>])<span class="op">+</span>
<span class="st">  </span><span class="kw">coef</span>(fit)[<span class="dv">2</span>]<span class="op">*</span>(anchovy[<span class="dv">23</span>]<span class="op">-</span>anchovy[<span class="dv">22</span>])</code></pre>
<pre><code>##      ar1 
## 10.00938</code></pre>
<hr />
<div id="forecasting-with-forecast" class="section level3">
<h3><span class="header-section-number">3.5.1</span> Forecasting with <code>forecast()</code></h3>
<p><code>forecast(fit, h=h)</code> automates the forecast calculations for us. <code>forecast()</code> takes a fitted object, <code>fit</code>, from <code>arima()</code> and output forecasts for <code>h</code> time steps forward. The upper and lower prediction intervals are also computed.</p>
<pre class="sourceCode r"><code class="sourceCode r">fit &lt;-<span class="st"> </span>forecast<span class="op">::</span><span class="kw">auto.arima</span>(sardine87ts, <span class="dt">test=</span><span class="st">&quot;adf&quot;</span>)
fr &lt;-<span class="st"> </span>forecast<span class="op">::</span><span class="kw">forecast</span>(fit, <span class="dt">h=</span><span class="dv">5</span>)
fr</code></pre>
<pre><code>##      Point Forecast    Lo 80    Hi 80    Lo 95    Hi 95
## 1988       10.03216 9.789577 10.27475 9.661160 10.40317
## 1989       10.09625 9.832489 10.36001 9.692861 10.49964
## 1990       10.16034 9.876979 10.44370 9.726977 10.59371
## 1991       10.22443 9.922740 10.52612 9.763035 10.68582
## 1992       10.28852 9.969552 10.60749 9.800701 10.77634</code></pre>
<p>We can plot our forecast with prediction intervals. Here is the sardine forecast:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(fr, <span class="dt">xlab=</span><span class="st">&quot;Year&quot;</span>)</code></pre>
<p><img src="Fish-Forecast_files/figure-html/unnamed-chunk-22-1.png" width="672" style="display: block; margin: auto;" /></p>
<hr />
<div id="forecast-for-anchovy" class="section level4 unnumbered">
<h4>Forecast for anchovy</h4>
<pre class="sourceCode r"><code class="sourceCode r">spp=<span class="st">&quot;Anchovy&quot;</span>
dat &lt;-<span class="st"> </span><span class="kw">subset</span>(landings, Species<span class="op">==</span>spp <span class="op">&amp;</span><span class="st"> </span>Year<span class="op">&lt;=</span><span class="dv">1987</span>)<span class="op">$</span>log.metric.tons
dat &lt;-<span class="st"> </span><span class="kw">ts</span>(dat, <span class="dt">start=</span><span class="dv">1964</span>)
fit &lt;-<span class="st"> </span>forecast<span class="op">::</span><span class="kw">auto.arima</span>(dat)
fr &lt;-<span class="st"> </span>forecast<span class="op">::</span><span class="kw">forecast</span>(fit, <span class="dt">h=</span><span class="dv">5</span>)
<span class="kw">plot</span>(fr)</code></pre>
<p><img src="Fish-Forecast_files/figure-html/unnamed-chunk-23-1.png" width="672" style="display: block; margin: auto;" /></p>
<hr />
</div>
<div id="forecasts-for-chub-mackerel" class="section level4 unnumbered">
<h4>Forecasts for chub mackerel</h4>
<p>We can repeat for other species using the same code.</p>
<pre class="sourceCode r"><code class="sourceCode r">spp=<span class="st">&quot;Chub.mackerel&quot;</span>
dat &lt;-<span class="st"> </span><span class="kw">subset</span>(landings, Species<span class="op">==</span>spp <span class="op">&amp;</span><span class="st"> </span>Year<span class="op">&lt;=</span><span class="dv">1987</span>)<span class="op">$</span>log.metric.tons
dat &lt;-<span class="st"> </span><span class="kw">ts</span>(dat, <span class="dt">start=</span><span class="dv">1964</span>)
fit &lt;-<span class="st"> </span>forecast<span class="op">::</span><span class="kw">auto.arima</span>(dat)
fr &lt;-<span class="st"> </span>forecast<span class="op">::</span><span class="kw">forecast</span>(fit, <span class="dt">h=</span><span class="dv">5</span>)
<span class="kw">plot</span>(fr, <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">6</span>,<span class="dv">10</span>))</code></pre>
<p><img src="Fish-Forecast_files/figure-html/unnamed-chunk-24-1.png" width="672" style="display: block; margin: auto;" /></p>
<hr />
</div>
</div>
<div id="missing-values-1" class="section level3">
<h3><span class="header-section-number">3.5.2</span> Missing values</h3>
<p>Missing values are allowed for <code>arima()</code> and we can product forecasts with the same code.</p>
<pre class="sourceCode r"><code class="sourceCode r">anchovy.miss &lt;-<span class="st"> </span>anchovy87ts
anchovy.miss[<span class="dv">10</span><span class="op">:</span><span class="dv">14</span>] &lt;-<span class="st"> </span><span class="ot">NA</span>
fit &lt;-<span class="st"> </span>forecast<span class="op">::</span><span class="kw">auto.arima</span>(anchovy.miss)
fr &lt;-<span class="st"> </span>forecast<span class="op">::</span><span class="kw">forecast</span>(fit, <span class="dt">h=</span><span class="dv">5</span>)
<span class="kw">plot</span>(fr)</code></pre>
<p><img src="Fish-Forecast_files/figure-html/unnamed-chunk-25-1.png" width="672" style="display: block; margin: auto;" /></p>
<hr />
</div>
<div id="null-forecast-models" class="section level3">
<h3><span class="header-section-number">3.5.3</span> Null forecast models</h3>
<p>Whenever we are testing a forecast model or procedure we have developed, we should test against ‘null’ forecast models. These are standard ‘competing’ forecast models.</p>
<ul>
<li>The Naive forecast</li>
<li>The Naive forecast with drift</li>
<li>The mean or average forecast</li>
</ul>
<div id="the-naive-forecast" class="section level4 unnumbered">
<h4>The “Naive” forecast</h4>
<p>The “naive” forecast is simply the last value observed. If we want to prediction landings in 2019, the naive forecast would be the landings in 2018. This is a difficult forecast to beat! It has the advantage of having no parameters.</p>
<p>In forecast, we can fit this model with the <code>naive()</code> function. Note this is the same as the <code>rwf()</code> function.</p>
<pre class="sourceCode r"><code class="sourceCode r">fit.naive &lt;-<span class="st"> </span>forecast<span class="op">::</span><span class="kw">naive</span>(anchovy87ts)
fr.naive &lt;-<span class="st"> </span>forecast<span class="op">::</span><span class="kw">forecast</span>(fit.naive, <span class="dt">h=</span><span class="dv">5</span>)
<span class="kw">plot</span>(fr.naive)</code></pre>
<p><img src="Fish-Forecast_files/figure-html/unnamed-chunk-26-1.png" width="672" style="display: block; margin: auto;" /></p>
<hr />
</div>
<div id="the-naive-forecast-with-drift" class="section level4 unnumbered">
<h4>The “Naive” forecast with drift</h4>
<p>The “naive” forecast is equivalent to a random walk with no drift. So this
<span class="math display">\[x_t = x_{t-1} + e_t\]</span>
As you saw with the anchovy fit, it doesn’t allow an upward trend. Let’s make it a little more flexible by add <code>drift</code>. This means we estimate one term, the trend.</p>
<p><span class="math display">\[x_t = \mu + x_{t-1} + e_t\]</span></p>
<pre class="sourceCode r"><code class="sourceCode r">fit.rwf &lt;-<span class="st"> </span>forecast<span class="op">::</span><span class="kw">rwf</span>(anchovy, <span class="dt">drift=</span><span class="ot">TRUE</span>)
fr.rwf &lt;-<span class="st"> </span>forecast<span class="op">::</span><span class="kw">forecast</span>(fit.rwf, <span class="dt">h=</span><span class="dv">5</span>)
<span class="kw">plot</span>(fr.rwf)</code></pre>
<p><img src="Fish-Forecast_files/figure-html/unnamed-chunk-27-1.png" width="672" style="display: block; margin: auto;" /></p>
<hr />
</div>
<div id="the-mean-forecast" class="section level4 unnumbered">
<h4>The “mean” forecast</h4>
<p>The “mean” forecast is simply the mean of the data. If we want to prediction landings in 2019, the mean forecast would be the average of all our data. This is a poor forecast typically. It uses no information about the most recent values.</p>
<p>In forecast, we can fit this model with the <code>Arima()</code> function and <code>order=c(0,0,0)</code>. This will fit this model:
<span class="math display">\[x_t = e_t\]</span>
where <span class="math inline">\(e_t \sim N(\mu, \sigma)\)</span>.</p>
<pre class="sourceCode r"><code class="sourceCode r">fit.mean &lt;-<span class="st"> </span>forecast<span class="op">::</span><span class="kw">Arima</span>(anchovy, <span class="dt">order=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>))
fr.mean &lt;-<span class="st"> </span>forecast<span class="op">::</span><span class="kw">forecast</span>(fit.mean, <span class="dt">h=</span><span class="dv">5</span>)
<span class="kw">plot</span>(fr.mean)</code></pre>
<p><img src="Fish-Forecast_files/figure-html/unnamed-chunk-28-1.png" width="672" style="display: block; margin: auto;" /></p>

</div>
</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="fitting-arima-models.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exponential-smoothing-models.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
